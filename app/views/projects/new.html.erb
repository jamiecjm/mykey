<div class="col-lg-12">
<h1 class="page-header">New Project</h1>
<div>

<div class="row">
<div class="well col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4">

<%=nested_form_for @project,remote: true,authenticity_token: true,class: "form-horizontal" do |form|%>

<div class="form-group">
  <%= form.label :name, "Name" %>
  <%= form.text_field :name,class: "form-control", required: true%>
</div>
<br>
<strong>Packages:</strong>
<p></p>
<%= form.fields_for :models,Model.new do |sv_form| %>

  <div class="form-group">
    <%= sv_form.text_field :package,class: "form-control",placeholder: "Package type" %>
  </div>

  <%= sv_form.link_to_remove "Remove this package" %>
<p></p>
<% end %>

<p><%= form.link_to_add "Add Package", :models %></p>

<br>
<strong>Layouts:</strong>
<p></p>
<%= form.fields_for :layouts,Layout.new,authenticity_token: true do |layout_form| %>
  
    <div class="form-group">
      Size (sqft):
      <%= layout_form.number_field :size,class: "form-control",min: "0",step:"any"%>
    </div>

    <div class="form-group">
      Floor Plan:
      <%= layout_form.file_field :plan,class: "form-control"%>
    </div>

    <div class="form-group">
      Pictures:
      <%= layout_form.file_field :pictures,multiple: true,class: "form-control"%>
    </div>

    <%= layout_form.link_to_remove "Remove this layout" %>
    <br><br><br>
<% end %>


<p><%= form.link_to_add "Add layout", :layouts %></p>

<%= form.submit :submit,class: "btn btn-default" %>
<%end%>

</div>
</div>
</div>

<style type="text/css">
  .fields{
    margin-left: 3%;
  }
  .loader {
    border: 16px solid #f3f3f3; /* Light grey */
    border-top: 16px solid #3498db; /* Blue */
    border-radius: 50%;
    width: 120px;
    height: 120px;
    animation: spin 2s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
</style>